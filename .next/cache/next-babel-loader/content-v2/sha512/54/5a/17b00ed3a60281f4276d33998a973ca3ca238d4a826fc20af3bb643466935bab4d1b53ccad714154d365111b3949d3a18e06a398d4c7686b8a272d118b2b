{"ast":null,"code":"//api routes are server side only; will never be exposed to browser\nimport { MongoClient } from \"mongodb\"; // should add error handling but not bothering here\n\nasync function handler(req, res) {\n  if (req.method === \"POST\") {\n    console.log(\"here\");\n    const data = req.body; // const { title, image, address, description } = data;\n\n    const client = await MongoClient.connect( //NEVER RUN ON CLIENT SIDE\n    \"mongodb+srv://sam:zWMaZiaEy2QHZb0B@cluster0.o4hmx.mongodb.net/meetups?retryWrites=true&w=majority\");\n    const db = client.db();\n    const meetupsCollection = db.collection(\"meetupsCollection\"); // just takes an object so we can use data\n\n    const result = await meetupsCollection.insertOne(data);\n    console.log(result);\n    client.close(); // not quite sure how this works...\n\n    res.status(201).json({\n      message: \"meetup inserted\"\n    });\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["/Users/sallymacgill/Documents/Documents – Sally’s MacBook Air/Current/325-next-onwards/pages/api/new-meetup.js"],"names":["MongoClient","handler","req","res","method","console","log","data","body","client","connect","db","meetupsCollection","collection","result","insertOne","close","status","json","message"],"mappings":"AAAA;AACA,SAASA,WAAT,QAA4B,SAA5B,C,CACA;;AACA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AAEA,UAAMC,IAAI,GAAGL,GAAG,CAACM,IAAjB,CAHyB,CAIzB;;AACA,UAAMC,MAAM,GAAG,MAAMT,WAAW,CAACU,OAAZ,EACnB;AACA,uGAFmB,CAArB;AAIA,UAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AACA,UAAMC,iBAAiB,GAAGD,EAAE,CAACE,UAAH,CAAc,mBAAd,CAA1B,CAVyB,CAWzB;;AACA,UAAMC,MAAM,GAAG,MAAMF,iBAAiB,CAACG,SAAlB,CAA4BR,IAA5B,CAArB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYQ,MAAZ;AAEAL,IAAAA,MAAM,CAACO,KAAP,GAfyB,CAgBzB;;AACAb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF;;AAED,eAAelB,OAAf","sourcesContent":["//api routes are server side only; will never be exposed to browser\nimport { MongoClient } from \"mongodb\";\n// should add error handling but not bothering here\nasync function handler(req, res) {\n  if (req.method === \"POST\") {\n    console.log(\"here\");\n\n    const data = req.body;\n    // const { title, image, address, description } = data;\n    const client = await MongoClient.connect(\n      //NEVER RUN ON CLIENT SIDE\n      \"mongodb+srv://sam:zWMaZiaEy2QHZb0B@cluster0.o4hmx.mongodb.net/meetups?retryWrites=true&w=majority\"\n    );\n    const db = client.db();\n    const meetupsCollection = db.collection(\"meetupsCollection\");\n    // just takes an object so we can use data\n    const result = await meetupsCollection.insertOne(data);\n    console.log(result);\n\n    client.close();\n    // not quite sure how this works...\n    res.status(201).json({ message: \"meetup inserted\" });\n  }\n}\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}